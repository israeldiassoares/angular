<!-- Criando variavel local para indicar que o angular deve ajudar a gerenciar esse formulário. Usando a variavel # o formulario será referenciado como todo-->
<form
    #f='ngForm'
    (ngSubmit)="onSubmit(f)"
>
    <div class="form-group row">
        <div class="col-sm-12">
            <label
                for="nome"
                class="form-label"
            >Nome</label>
        </div>
        <div class="col-sm-12">
            <input
                type="text"
                name="nome"
                class="form-control "
                placeholder="Nome"
                aria-label="nome"
                aria-describedby="basic-addon1"
                id="nome"
                [(ngModel)]="usuario.nome"
                required
                #nome="ngModel"
                [class.is-invalid]="!nome.valid && nome.touched"
            >
            <div
                *ngIf="!nome.valid && nome.touched"
                class="alert alert-danger"
                role="alert"
            >
                Nome é obrigatório.
            </div>
        </div>

        <!-- <div>
            {{nome.className}}
        </div> -->
    </div>
    <div class="form-group row">
        <div class="col-sm-12">
            <label
                for="email"
                class="form-label"
            >Email</label>
        </div>
        <div class="col-sm-12">

            <div class="input-group mb-3">
                <span
                    class="input-group-text"
                    id="basic-addon2"
                >@</span>
                <input
                    type="email"
                    name="email"
                    class="form-control"
                    placeholder="Email"
                    aria-label="email"
                    aria-describedby="basic-addon1"
                    id="email"
                    placeholder="nome@email.com"
                    [(ngModel)]='usuario.email'
                    required
                    email
                    #email="ngModel"
                    [class.is-invalid]="!email.valid && email.touched"
                >
            </div>
            <div
                *ngIf="!email.valid && email.touched"
                class="alert alert-danger"
                role="alert"
            >
                Email é obrigatório.
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-3">
            <label
                for="cep"
                class="control-label"
            >CEP</label>
            <input
                type="text"
                class="form-control"
                [class.is-invalid]="!cep.valid && cep.touched"
                id="cep"
                name="cep"
                ngModel
                required
                #cep="ngModel"
            >
            <div
                *ngIf="!cep.valid && cep.touched"
                class="alert alert-danger"
                role="alert"
            >
                CEP é obrigatório.
            </div>
        </div>

        <div class="col-sm-3">
            <label
                for="numero"
                class="control-label"
            >Número</label>
            <input
                type="text"
                class="form-control"
                [class.is-invalid]="!numero.valid && numero.touched"
                id="numero"
                name="numero"
                ngModel
                required
                #numero="ngModel"
            >
            <div
                *ngIf="!numero.valid && numero.touched"
                class="alert alert-danger"
                role="alert"
            >
                Número é obrigatório.
            </div>
        </div>

        <div class="col-sm-6">
            <label
                for="complemento"
                class="control-label"
            >Complemento</label>
            <input
                type="text"
                class="form-control"
                id="complemento"
                name="complemento"
                ngModel
                required
                #complemento="ngModel"
            >
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-12">
            <label
                for="rua"
                class="control-label"
            >Rua</label>
            <input
                type="text"
                class="form-control"
                [class.is-invalid]="!rua.valid && rua.touched"
                id="rua"
                name="rua"
                ngModel
                required
                #rua="ngModel"
            >
            <div
                *ngIf="!rua.valid && rua.touched"
                class="alert alert-danger"
                role="alert"
            >
                Rua é obrigatório.
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-5">
            <label
                for="bairro"
                class="control-label"
            >Bairro</label>
            <input
                type="text"
                class="form-control"
                [class.is-invalid]="!bairro.valid && bairro.touched"
                id="bairro"
                name="bairro"
                ngModel
                required
                #bairro="ngModel"
                readonly
            >
            <div
                *ngIf="!bairro.valid && bairro.touched"
                class="alert alert-danger"
                role="alert"

            >
                Bairro é obrigatório.
            </div>
        </div>

        <div class="col-sm-4">
            <label
                for="cidade"
                class="control-label"
            >Cidade</label>
            <input
                type="text"
                class="form-control"
                [class.is-invalid]="!cidade.valid && cidade.touched"
                id="cidade"
                name="cidade"
                ngModel
                required
                #cidade="ngModel"
                readonly
            >
            <div
                *ngIf="!cidade.valid && cidade.touched"
                class="alert alert-danger"
                role="alert"
            >
                Cidade é obrigatório.
            </div>
        </div>

        <div class="col-sm-3">
            <label
                for="estado"
                class="control-label"
            >Estado</label>
            <input
                type="text"
                class="form-control"
                [class.is-invalid]="!estado.valid && estado.touched"
                id="estado"
                name="estado"
                ngModel
                required
                #estado="ngModel"
                readonly
            >
            <div
                *ngIf="!estado.valid && estado.touched"
                class="alert alert-danger"
                role="alert"
            >
                Estado é obrigatório.
            </div>
        </div>
    </div>
    <button
        type="submit"
        class="btn btn-primary"
        [disabled]="!f.valid"
    >Submit</button>
    <app-form-debug [form]="f"></app-form-debug>
</form>